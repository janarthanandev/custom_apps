<odoo>
    <record model="ir.ui.view" id="stock_exchange_list">
        <field name="name">stock_exchange list</field>
        <field name="model">stock.exchange</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
                <field name="partner_id" />
                <field name="order_id" />
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="stock_exchange_form">
        <field name="name">stock_exchange Form</field>
        <field name="model">stock.exchange</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="state" widget="statusbar" clickable="True"/>
                </header>
                <sheet>
                    <group>
                        <field name="name" />
                        <field name="partner_id" />
                        <field name="order_id" domain="[('partner_id','child_of',partner_id),('state','in',('sale','done'))]"
                            options="{'no_create': True}" 
                            attrs="{'readonly':['|',('partner_id','=',False)]}" />
                        <field name="order_line_ids">
                            <tree string="Order Lines" editable="bottom">
                                <field name="product_id"/>
                                <field name="product_custom_attribute_value_ids" invisible="1" />
                                <field name="product_no_variant_attribute_value_ids" invisible="1" />
                                <field name="name" widget="section_and_note_text"/>
                                <field
                                    name="product_uom_qty"
                                    string="Ordered Qty" />
                                 <field name="product_uom"
                                        groups="uom.group_uom"
                                        options='{"no_open": True}'
                                    />
                                    <field name="analytic_tag_ids"
                                        groups="analytic.group_analytic_tags"
                                        widget="many2many_tags" />
                                    <field name="price_unit"/>
                                    <field name="price_subtotal" widget="monetary" groups="account.group_show_line_subtotals_tax_excluded"/>
                                    <field name="price_total" widget="monetary" groups="account.group_show_line_subtotals_tax_included"/>
                           <!--          <field
                                        name="tax_id"
                                        widget="many2many_tags"
                                        options="{'no_create': True}"
                                        domain="[('type_tax_use','=','sale'),('company_id','=',parent.company_id)]"
                                        attrs="{'readonly': [('qty_invoiced', '&gt;', 0)]}"
                                    />  
                                    <field name="discount" groups="sale.group_discount_per_so_line"/>
                                    <field name="price_subtotal" widget="monetary" groups="account.group_show_line_subtotals_tax_excluded"/>
                                    <field name="price_total" widget="monetary" groups="account.group_show_line_subtotals_tax_included"/>
                                    <field name="state" invisible="1"/>
                                    <field name="invoice_status" invisible="1"/>
                                    <field name="customer_lead" invisible="1"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="price_tax" invisible="1"/> -->
                            </tree>
                        </field>
                        <field name="exchange_line_ids">
                            <tree string="Exchange Line" editable="bottom">
                                <field name="exchange_product_id"/>
                                <field name="product_uom_qty"/>
                                <field name="product_uom"/>
                                <!-- <field name="price_unit"/>
                                <field name="price_subtotal" 
                                    widget="monetary" groups="account.group_show_line_subtotals_tax_excluded"/> -->
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!-- actions opening views on models -->

    <record model="ir.actions.act_window"
        id="action_stock_exchange">
        <field name="name">Stock Exchange </field>
        <field name="res_model">stock.exchange</field>
        <field name="view_mode">tree,form</field>
    </record>



    <!-- Top menu item -->
    <menuitem name="Stock Exchange" id="stock_exchange_menu"
        parent="stock.menu_stock_warehouse_mgmt"
        action="action_stock_exchange"
        groups="stock.group_stock_manager,stock.group_stock_user" />
</odoo>